{
  "identifier": "cursor_team_usage_record",
  "description": "A daily summary record of Cursor usage for a team (UTC)",
  "title": "Cursor Team Usage Record",
  "icon": "Team",
  "schema": {
    "properties": {
      "record_date": { "type": "string", "format": "date-time", "title": "Record Date (UTC)" },
      "org": { "type": "string", "title": "Organization" },
      "team": { "type": "string", "title": "Team" },
      "total_accepts": { "type": "number", "title": "Total Accepts" },
      "total_rejects": { "type": "number", "title": "Total Rejects" },
      "total_tabs_shown": { "type": "number", "title": "Total Tabs Shown" },
      "total_tabs_accepted": { "type": "number", "title": "Total Tabs Accepted" },
      "total_lines_added": { "type": "number", "title": "Total Lines Added" },
      "total_lines_deleted": { "type": "number", "title": "Total Lines Deleted" },
      "accepted_lines_added": { "type": "number", "title": "Accepted Lines Added" },
      "accepted_lines_deleted": { "type": "number", "title": "Accepted Lines Deleted" },
      "composer_requests": { "type": "number", "title": "Composer Requests" },
      "chat_requests": { "type": "number", "title": "Chat Requests" },
      "agent_requests": { "type": "number", "title": "Agent Requests" },
      "subscription_included_reqs": { "type": "number", "title": "Subscription Included Requests" },
      "api_key_reqs": { "type": "number", "title": "API Key Requests" },
      "usage_based_reqs": { "type": "number", "title": "Usage-based Requests" },
      "bugbot_usages": { "type": "number", "title": "Bugbot Usages" },
      "most_used_model": { "type": "string", "title": "Most Used Model" },
      "total_active_users": { "type": "number", "title": "Total Active Users" },
      "input_tokens": { "type": "number", "title": "Input Tokens" },
      "output_tokens": { "type": "number", "title": "Output Tokens" },
      "cache_write_tokens": { "type": "number", "title": "Cache Write Tokens" },
      "cache_read_tokens": { "type": "number", "title": "Cache Read Tokens" },
      "total_cents": { "type": "number", "title": "Total Cost (cents)" },
      "breakdown": { "type": "object", "title": "Breakdown" }
    },
    "required": ["record_date", "org", "team"]
  },
  "mirrorProperties": {},
  "calculationProperties": {
    "acceptance_rate": {
      "title": "Acceptance Rate",
      "description": "Percentage of AI suggestions that were accepted by this team",
      "calculation": "if (.properties.total_accepts + .properties.total_rejects) > 0 then (.properties.total_accepts / (.properties.total_accepts + .properties.total_rejects)) * 100 else 0 end",
      "type": "number",
      "colorized": true,
      "colors": {
        "25": "red",
        "50": "orange",
        "75": "yellow",
        "90": "green"
      }
    }
  },
  "aggregationProperties": {},
  "relations": {
    "team_members": {
      "title": "Team Members",
      "target": "cursor_user_usage_record",
      "many": true,
      "required": false
    }
  }
}





